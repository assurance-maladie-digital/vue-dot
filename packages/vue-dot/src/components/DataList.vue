<template>
	<div class="subheading">
		<slot name="title">
			<h4 :class="titleClass">
				{{ listTitle }}
			</h4>
		</slot>

		<dl
			v-if="list.length"
			:class="{
				'column': column || $vuetify.breakpoint.xs || flex,
				'flex': flex
			}"
			:style="{ minWidth }"
			class="field"
		>
			<div
				v-for="(item, index) in list"
				:key="index"
				class="row mb-2"
			>
				<dt
					v-if="item.key"
					:style="{ width, color: labelColor }"
					class="key body-1"
				>
					{{ item.key }}
				</dt>

				<dd
					:style="{ color: valueColor }"
					class="value body-1"
				>
					{{ item.value || placeholder }}
				</dd>
			</div>
		</dl>
	</div>
</template>

<script lang="ts">
	import Vue from 'vue';

	export default Vue.extend({
		name: 'DataList',
		props: {
			titleClass: {
				type: String,
				default: 'mb-3 headline'
			},
			list: {
				type: Array,
				required: true
			},
			listTitle: {
				type: String,
				default: undefined
			},
			labelColor: {
				type: String,
				default: '#757575'
			},
			valueColor: {
				type: String,
				default: 'currentColor'
			},
			column: {
				type: Boolean,
				default: false
			},
			flex: {
				type: Boolean,
				default: false
			},
			placeholder: {
				type: String,
				default: 'â€¦'
			},
			minWidth: {
				type: String,
				default: undefined
			},
			width: {
				type: String,
				default: '200px'
			}
		}
	});
</script>

<style lang="scss" scoped>
	.field {
		.row
		{
			display: flex;
			flex-wrap: wrap;
		}

		&.column .row
		{
			flex-direction: column;
		}

		&.flex {
			display: flex;
			flex-wrap: wrap;
		}

		&:not(.column) {
			.key::after
			{
				content: " :";
			}

			.value {
				align-self: flex-end;
			}
		}
	}
</style>
